{"version":3,"sources":["C:/Users/Petar/WebstormProjects/headstone/headstone/src/app/lazy-routed-components/userDetails/userDetails.component.css","C:/Users/Petar/WebstormProjects/headstone/headstone/src/app/lazy-routed-components/userDetails/userDetails.component.html","C:/Users/Petar/WebstormProjects/headstone/headstone/src/app/lazy-routed-components/userDetails/userDetails.component.ts"],"names":[],"mappings":";;;;;AAAA;AACA;;;AAGA;AACA;;AAEA;;;AAGA;AACA,2C;;;;;;;ACXA,qOAAqO,kBAAkB,+N;;;;;;;;;;;;;;;;;;;;;;;ACA5L;AACE;AACN;AACe;AAOtE;IAME,8BAAoB,KAAqB,EAAS,IAAgB,EAAS,OAAsB,EAAS,MAAc;QAApG,UAAK,GAAL,KAAK,CAAgB;QAAS,SAAI,GAAJ,IAAI,CAAY;QAAS,YAAO,GAAP,OAAO,CAAe;QAAS,WAAM,GAAN,MAAM,CAAQ;QAFtH,SAAI,GAAO,EAAE,CAAC;IAE4G,CAAC;IAE7H,uCAAQ,GAAR;QAAA,iBAoCC;QAnCG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,gBAAM;YAC7C,IAAI,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;YACvC,IAAI,UAAU,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC;YACnC,EAAE,EAAC,CAAC,SAAS,CAAC,EAAC;gBACb,IAAG,CAAC;oBACA,SAAS,GAAG,KAAK,CAAC;oBAClB,UAAU,GAAG,KAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC;gBAC3C,CAAC;gBACD,KAAK,CAAC,CAAC,CAAC,CAAC,EAAC;oBACN,OAAO,YAAY,CAAC,MAAM,CAAC,CAAC;oBAC5B,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;gBACpC,CAAC;YACH,CAAC;YACD,EAAE,EAAC,UAAU,CAAC,EAAC;gBACX,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAI,CAAC,IAAI,CAAC,KAAK,WAAE,GAAC,SAAS,IAAE,UAAU,MAAE,CAAC,SAAS,CAAC,cAAI;oBAC/D,EAAE,EAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,EAAC;wBACf,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;wBACpB,KAAI,CAAC,YAAY,GAAG,KAAI,CAAC,IAAI,CAAC,YAAY,CAAC;wBAC3C,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,EAAC,MAAM,EAAC,IAAI,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,EAAC,CAAC,CAAC,SAAS,CAAC,kBAAQ;4BAC1E,EAAE,EAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,EAAC;gCACf,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;4BAC7B,CAAC;4BACD,IAAI,CAAC,CAAC;gCACF,KAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC;4BAC9B,CAAC;wBACL,CAAC,CACJ,CAAC;oBACN,CAAC;oBACD,IAAI,CAAC,CAAC;wBACF,KAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC;oBAC9B,CAAC;gBACL,CAAC,CACJ,CAAC;YACN,CAAC;;QACL,CAAC,CAAC,CAAC,CAAC;IACR,CAAC;IACC,0CAAW,GAAX;QACI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,WAAC;YACf,CAAC,CAAC,WAAW,EAAE,CAAC;QACpB,CAAC,CAAC;IACN,CAAC;IAjDQ,oBAAoB;QALhC,wEAAS,CAAC;YACT,QAAQ,EAAE,iBAAiB;;;SAG5B,CAAC;yCAO2B,uEAAc,EAAc,gFAAW,EAAiB,yFAAc,EAAiB,+DAAM;OAN7G,oBAAoB,CAmDhC;IAAD,2BAAC;CAAA;AAnDgC","file":"userDetails.component.chunk.js","sourcesContent":["exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/Petar/WebstormProjects/headstone/headstone/src/app/lazy-routed-components/userDetails/userDetails.component.css\n// module id = ../../../../../src/app/lazy-routed-components/userDetails/userDetails.component.css\n// module chunks = userDetails.component","module.exports = \"<div class=\\\"container\\\">\\n    <div class=\\\"col-md-12\\\">\\n        <app-user [user]=\\\"user\\\" [allowControl]=\\\"allowControl\\\"></app-user>\\n        <div *ngIf=\\\"articles\\\">\\n            <span>Published articles: {{articles?.length}}</span>\\n            <div class=\\\"col-md-6 col-md-offset-3\\\" *ngFor=\\\"let article of articles\\\" >\\n                <app-article [article]=\\\"article\\\"></app-article>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/Petar/WebstormProjects/headstone/headstone/src/app/lazy-routed-components/userDetails/userDetails.component.html\n// module id = ../../../../../src/app/lazy-routed-components/userDetails/userDetails.component.html\n// module chunks = userDetails.component","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {UserService} from \"../../services/user/user.service\";\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {ArticleService} from \"../../services/article/article.service\";\n\n@Component({\n  selector: 'app-userDetails',\n  templateUrl: './userDetails.component.html',\n  styleUrls: ['./userDetails.component.css']\n})\nexport class UserDetailsComponent implements OnInit,OnDestroy {\n    user;\n    articles;\n    error:string;\n    sub$:any[]=[];\n    allowControl:boolean;\n  constructor(private route: ActivatedRoute,private User:UserService,private Article:ArticleService,private router: Router) { }\n\n  ngOnInit() {\n      this.sub$.push(this.route.params.subscribe(params => {\n          let queryProp = Object.keys(params)[0];\n          let queryValue = params[queryProp];\n          if(!queryProp){\n            try{\n                queryProp = '_id';\n                queryValue = this.User.current()['_id']\n            }\n            catch (e){\n                delete localStorage['user'];\n                this.router.navigate(['/login'])\n            }\n          }\n          if(queryValue){\n              this.sub$.push(this.User.query({[queryProp]:queryValue}).subscribe(user=>{\n                      if(!user['error']){\n                          this.user = user[0];\n                          this.allowControl = this.user.allowControl;\n                          this.sub$.push(this.Article.query({author:user[0]['username']}).subscribe(articles=>{\n                                  if(!user['error']){\n                                      this.articles = articles;\n                                  }\n                                  else {\n                                      this.error = user['error']\n                                  }\n                              }\n                          ))\n                      }\n                      else {\n                          this.error = user['error']\n                      }\n                  }\n              ))\n          }\n      }));\n  }\n    ngOnDestroy() {\n        this.sub$.forEach(s=>{\n            s.unsubscribe();\n        })\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/Petar/WebstormProjects/headstone/headstone/src/app/lazy-routed-components/userDetails/userDetails.component.ts"],"sourceRoot":"webpack:///"}