{"version":3,"sources":["C:/Users/Petar/WebstormProjects/headstone/headstone/src/app/lazy-routed-components/editArticle/editArticle.component.css","C:/Users/Petar/WebstormProjects/headstone/headstone/src/app/lazy-routed-components/editArticle/editArticle.component.html","C:/Users/Petar/WebstormProjects/headstone/headstone/src/app/lazy-routed-components/editArticle/editArticle.component.ts"],"names":[],"mappings":";;;;;AAAA;AACA;;;AAGA;AACA;;AAEA;;;AAGA;AACA,2C;;;;;;;ACXA,2M;;;;;;;;;;;;;;;;;;;;;;;ACA2D;AACW;AACf;AACM;AAO7D;IAKI,8BAAoB,KAAqB,EAAS,IAAgB,EAAS,OAAsB,EAAU,MAAa;QAApG,UAAK,GAAL,KAAK,CAAgB;QAAS,SAAI,GAAJ,IAAI,CAAY;QAAS,YAAO,GAAP,OAAO,CAAe;QAAU,WAAM,GAAN,MAAM,CAAO;QADxH,SAAI,GAAO,EAAE,CAAC;IAC8G,CAAC;IAE7H,uCAAQ,GAAR;QAAA,iBAwBC;QAvBG,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;QAC/B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,gBAAM;YAC7C,IAAI,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;YAC9B,EAAE,EAAC,UAAU,CAAC,EAAC;gBACX,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,EAAC,GAAG,EAAC,MAAM,CAAC,IAAI,CAAC,EAAC,CAAC,CAAC,SAAS,CAAC,kBAAQ;oBAChE,EAAE,EAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,EAAC;wBACf,EAAE,EAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAG,IAAI,CAAC,UAAU,CAAC;+BACpC,CAAC,IAAI,CAAC,OAAO,CAAC;gCACb,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC;uCACjC,IAAI,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAC;4BACpC,KAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;wBAC/B,CAAC;wBACD,IAAI,CAAC,CAAC;4BACF,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,WAAW,GAAC,UAAU,CAAC,CAAC,CAAC;wBACnD,CAAC;oBACL,CAAC;oBACD,IAAI,CAAC,CAAC;wBACF,KAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC;oBAC9B,CAAC;gBACL,CAAC,CACJ,CAAC;YACN,CAAC;QACL,CAAC,CAAC,CAAC,CAAC;IACR,CAAC;IACD,0CAAW,GAAX;QACI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,WAAC;YACf,CAAC,CAAC,WAAW,EAAE,CAAC;QACpB,CAAC,CAAC;IACN,CAAC;IApCQ,oBAAoB;QALhC,wEAAS,CAAC;YACT,QAAQ,EAAE,kBAAkB;;;SAG7B,CAAC;yCAM6B,uEAAc,EAAc,gFAAW,EAAiB,yFAAc,EAAiB,+DAAM;OAL/G,oBAAoB,CAsChC;IAAD,2BAAC;CAAA;AAtCgC","file":"editArticle.component.chunk.js","sourcesContent":["exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/Petar/WebstormProjects/headstone/headstone/src/app/lazy-routed-components/editArticle/editArticle.component.css\n// module id = ../../../../../src/app/lazy-routed-components/editArticle/editArticle.component.css\n// module chunks = editArticle.component","module.exports = \"<div class=\\\"container text-center\\\">\\n    <h1 class=\\\"col-md-6 col-md-offset-3\\\">Edit Article</h1>\\n    <article-form [article]=\\\"article\\\" [edit]=\\\"true\\\"></article-form>\\n</div>\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/Petar/WebstormProjects/headstone/headstone/src/app/lazy-routed-components/editArticle/editArticle.component.html\n// module id = ../../../../../src/app/lazy-routed-components/editArticle/editArticle.component.html\n// module chunks = editArticle.component","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {ArticleService} from \"../../services/article/article.service\";\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {UserService} from \"../../services/user/user.service\";\n\n@Component({\n  selector: 'app-edit-article',\n  templateUrl: './editArticle.component.html',\n  styleUrls: ['./editArticle.component.css']\n})\nexport class EditArticleComponent implements OnInit,OnDestroy {\n\n    article;\n    error:string;\n    sub$:any[]=[];\n    constructor(private route: ActivatedRoute,private User:UserService,private Article:ArticleService, private router:Router) { }\n\n    ngOnInit() {\n        let user = this.User.current();\n        this.sub$.push(this.route.params.subscribe(params => {\n            let queryValue = params['id'];\n            if(queryValue){\n                this.sub$.push(this.Article.query({_id:params['id']}).subscribe(articles=>{\n                        if(!user['error']){\n                            if(articles[0]['author']===user['username']\n                                || (user['roles'] &&\n                                    (user['roles'].includes('Admin')\n                                || user['roles'].includes('Mod')))){\n                                this.article = articles[0];\n                            }\n                            else {\n                                this.router.navigate(['/article/'+queryValue]);\n                            }\n                        }\n                        else {\n                            this.error = user['error']\n                        }\n                    }\n                ))\n            }\n        }));\n    }\n    ngOnDestroy() {\n        this.sub$.forEach(s=>{\n            s.unsubscribe();\n        })\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/Petar/WebstormProjects/headstone/headstone/src/app/lazy-routed-components/editArticle/editArticle.component.ts"],"sourceRoot":"webpack:///"}